<h1 class="mb-4">Insumos</h1>

<form action="/insumos" method="POST" class="mb-4">
  <div class="mb-3">
    <label for="idinsumo" class="form-label">ID Insumo</label>
    <input type="number" class="form-control" id="idinsumo" name="idinsumo" required>
  </div>
  <div class="mb-3">
    <label for="nominsumo" class="form-label">Nombre</label>
    <input type="text" class="form-control" id="nominsumo" name="nominsumo" maxlength="150" required>
  </div>
  <div class="mb-3">
    <label for="idproveedor" class="form-label">ID Proveedor</label>
    <input type="number" class="form-control" id="idproveedor" name="idproveedor" required>
  </div>
  <div class="mb-3">
    <label for="precio" class="form-label">Precio</label>
    <input type="number" step="0.01" class="form-control" id="precio" name="precio" required>
  </div>
  <div class="mb-3">
    <label for="stock" class="form-label">Stock</label>
    <input type="number" class="form-control" id="stock" name="stock" required>
  </div>
  <button type="submit" class="btn btn-primary">Agregar Insumo</button>
</form>

<table class="table">
  <thead>
    <tr>
      <th>ID Insumo</th>
      <th>Nombre</th>
      <th>ID Proveedor</th>
      <th>Precio</th>
      <th>Stock</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <% insumos.forEach(insumo => { %>
      <tr>
        <td><%= insumo.idinsumo %></td>
        <td><%= insumo.nominsumo %></td>
        <td><%= insumo.idproveedor %></td>
        <td><%= insumo.precio.toFixed(2) %></td>
        <td><%= insumo.stock %></td>
        <td>
          <form action="/insumos/<%= insumo._id %>?_method=DELETE" method="POST">
            <button type="submit" class="btn btn-danger btn-sm">Eliminar</button>
          </form>
        </td>
      </tr>
    <% }); %>
  </tbody>
</table>